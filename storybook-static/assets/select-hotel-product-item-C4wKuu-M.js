import{j as e}from"./jsx-runtime-BjG_zV1W.js";import{r as d}from"./iframe-Df8nsTPe.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),u=(...s)=>s.filter((t,n,c)=>!!t&&t.trim()!==""&&c.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=d.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:c,className:r="",children:i,iconNode:m,...h},l)=>d.createElement("svg",{ref:l,...j,width:t,height:t,stroke:s,strokeWidth:c?Number(n)*24/Number(t):n,className:u("lucide",r),...h},[...m.map(([g,a])=>d.createElement(g,a)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x=(s,t)=>{const n=d.forwardRef(({className:c,...r},i)=>d.createElement(v,{ref:i,iconNode:t,className:u(`lucide-${b(s)}`,c),...r}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=x("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=x("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=x("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=x("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]),y=s=>{const t=new Date(s);if(isNaN(t.valueOf()))throw new Error("Invalid Date");return t},C=s=>{try{const t=y(s);return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}catch{throw new Error("cannot destruct Date")}},D=s=>{try{const t=y(s),[n,c,r]=C(t),i=c+1,m=i<10?`0${i}`:`${i}`,h=r<10?`0${r}`:`${r}`;return`${n}-${m}-${h}`}catch{throw new Error("cannot format Date")}},L=({sabreId:s,checkIn:t,nights:n=1,numOfPeople:c="2"})=>{try{const r=D(t);return`https://sabre-nodejs-9tia3.ondigitalocean.app/public/hotel/sabre/${s}/select-rooms-price/?check_in=${r}&nights=${n}&number_of_people=${c}`}catch{throw new Error("cannot generate Sabre API Endpoint. Invalid checkIn value is given.")}};function S({checkIn:s,numOfPeople:t="2",sabreId:n,nights:c=1}){const[r,i]=d.useState(),[m,h]=d.useState(!1),[l,g]=d.useState();return d.useEffect(()=>{(async()=>{h(!0);try{const o=L({sabreId:n,checkIn:s,nights:c,numOfPeople:t}),p=await fetch(o,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},mode:"cors"});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);const f=await p.text(),w=JSON.parse(f);i(w)}catch(o){console.error("Fetch error:",o),o instanceof TypeError&&o.message.includes("Failed to fetch")&&console.error("CORS error or network issue. Check browser console for details."),i(null)}finally{h(!1)}})()},[s,c,t,n]),d.useEffect(()=>{try{if(r===null)throw new Error("no resData");const a=r==null?void 0:r.roomDescriptions;if(!(a!=null&&a.length)||(a==null?void 0:a.length)<=0)throw new Error("no roomDescription");const o=(a==null?void 0:a.sort((p,f)=>((p==null?void 0:p.price)||0)-(f.price||0)))[0];if(typeof(r==null?void 0:r.propertyNameKor)!="string"&&typeof(r==null?void 0:r.propertyNameEng)!="string"||typeof o.price!="number"||typeof o.roomDescription!="string"||typeof o.cancelDeadLine!="string"||!/^\d{8}$/.test(o.cancelDeadLine))throw new Error("invalid room description data");g({hotelName:r.propertyNameKor||r.propertyNameEng,...o,cancelDeadLine:o.cancelDeadLine.replace(/^(\d{4})(\d{2})(\d{2})$/,"$1-$2-$3")})}catch{g("카카오톡 상담 필요")}},[r]),e.jsxs("div",{className:"border-2 border-[#e5398f] overflow-hidden bg-white shadow-md md:shadow-none rounded-xl",children:[e.jsx("header",{className:"bg-[#e5398f] text-white p-3 text-center sm:text-left font-medium",children:"럭셔리 셀렉트 - 후불 현장 결제"}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-5 lg:gap-0 items-start justify-stretch",children:[e.jsx("div",{className:"lg:col-span-3 p-4 sm:p-6 lg:p-8 lg:pr-4 px-0 py-0",children:e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 md:gap-6 items-start",children:e.jsxs("div",{className:"sm:col-span-2 flex flex-col gap-3 p-4 md:p-0",children:[e.jsx("span",{className:"font-semibold text-blue-600",children:"[후불 현장 결제]"}),m||!l?e.jsx("div",{className:"w-48 h-6 animate-pulse bg-gray-200 rounded-sm"}):typeof l!="string"&&e.jsx("span",{className:"font-bold",children:l.hotelName}),e.jsx("div",{className:"flex items-center gap-1.5 text-blue-600",children:m||!l?e.jsx("div",{className:"w-60 h-5 animate-pulse bg-gray-200 rounded-sm"}):typeof l!="string"&&e.jsxs(e.Fragment,{children:[e.jsx("img",{src:"https://static.priviatravel.com/images/front/mtravel/svg/ico-check-blue-circle.svg",alt:"Free cancellation icon",width:20,height:20}),e.jsxs("span",{className:"text-sm font-medium",children:[l.cancelDeadLine," 까지 무료 취소"]})]})}),e.jsx("div",{className:"pt-3 mt-1",children:e.jsx("ul",{className:"space-y-2",children:[{icon:e.jsx(E,{className:"w-4 h-4 text-gray-500 px-0 py-0"}),benefit:"2인 조식 포함"},{icon:e.jsx($,{className:"w-4 h-4 text-gray-500"}),benefit:"$100 크레딧 제공"},{icon:e.jsx(N,{className:"w-4 h-4 text-gray-500"}),benefit:"객실 무료 업그레이드 (현장 가능시)"},{icon:e.jsx(k,{className:"w-4 h-4 text-gray-500"}),benefit:"얼리체크인 & 레이트 체크아웃 (현장 가능시)"}].map((a,o)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm text-gray-600",children:[typeof a.icon=="string"?e.jsx("img",{src:a.icon||"/placeholder.svg",alt:"",width:16,height:16}):a.icon,e.jsx("span",{children:a.benefit})]},o))})})]})})}),e.jsxs("div",{className:"lg:col-span-2 p-4 sm:p-6 lg:p-8 lg:border-l lg:border-dashed lg:border-gray-300 flex flex-col justify-between h-full lg:pl-12 border-t border-dashed",children:[e.jsxs("div",{className:"flex flex-row sm:justify-between sm:items-end mb-4 w-full gap-2 justify-between items-end",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"객실 요금"}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsxs("div",{className:"text-gray-500 text-base hidden sm:block text-left",children:[c,"박 예상결제가"]}),e.jsx("div",{className:"font-bold text-gray-800 text-2xl",children:m||!l?e.jsx("div",{className:"w-40 h-8 animate-pulse bg-gray-200 rounded-sm"}):typeof l=="string"?l:`${l.price.toLocaleString("ko-KR")}원 ~`})]})]}),e.jsxs("div",{className:"w-full text-right space-y-4 mt-auto",children:[e.jsx("div",{className:"text-xs text-red-500 text-left sm:text-right",children:e.jsx("div",{children:"※ 현장 결제시 환율에 따라 최종 원화 결제 금액이 변동될 수 있습니다."})}),e.jsx("a",{href:"https://pf.kakao.com/_cxmxgNG/chat",className:"inline-block bg-black text-white py-3 px-8 rounded-md hover:bg-gray-800 transition-colors w-full sm:w-auto text-center font-medium",children:"카카오톡 상담"})]})]})]})]})}S.__docgenInfo={description:"",methods:[],displayName:"SelectHotelProductItem",props:{sabreId:{required:!0,tsType:{name:"number"},description:""},checkIn:{required:!0,tsType:{name:"union",raw:"Date | string",elements:[{name:"Date"},{name:"string"}]},description:""},nights:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},numOfPeople:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'2'",computed:!1}}}};export{S};
